//
//  WelcomeAssembly.swift
//  VIPERExample
//
//  Created by Sergey Petrachkov on 13/09/2017.
//  Copyright (c) 2017 Sergey Petrachkov. All rights reserved.
//
//  This file was generated by the SergeyPetrachkov VIPER Xcode Templates so
//  you can apply VIPER architecture to your iOS projects
//

import UIKit

class WelcomeAssembly {
  // MARK: - Constants
  fileprivate static let storyboardId = "Main"
  fileprivate static let controllerStoryboardId = "Welcome"
  // MARK: - Public methods
  static func createModule() -> WelcomeViewController {
    if let controller = UIStoryboard(name: storyboardId, bundle: nil).instantiateViewController(withIdentifier: controllerStoryboardId) as? WelcomeViewController {
      let presenter = injectPresenter()
      presenter.output = controller
      presenter.view = controller
      controller.presenter = presenter
      return controller
    } else {
      fatalError("Could not create Welcome module!!! Check Welcome assembly")
    }
  }
  // MARK: - Private injections
  fileprivate static func injectPresenter() -> WelcomePresenterInput {
    let presenter = WelcomePresenter()
    let interactor = injectInteractor()
    interactor.output = presenter
    presenter.interactor = interactor
    let router = injectRouter()
    presenter.router = router
    return presenter
  }
  fileprivate static func injectInteractor() -> WelcomeInteractorInput {
    return WelcomeInteractor()
  }
  fileprivate static func injectRouter() -> WelcomeRoutingLogic {
    return WelcomeRouter()
  }
}
